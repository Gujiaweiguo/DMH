<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>调试页面</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; }
        h1 { color: #333; }
        .success { color: green; font-size: 18px; }
        .error { color: red; font-size: 18px; }
        button { padding: 10px 20px; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background: #5568d3; }
    </style>
</head>
<body>
    <div class="container">
        <h1>DMH 调试页面</h1>
        <p>如果您能看到这个页面，说明基础 HTML 是正常的。</p>
        
        <div id="test1">
            <p>测试 1: 检查 DOMContentLoaded 事件</p>
        </div>
        
        <div id="test2">
            <p>测试 2: 检查 localStorage</p>
        </div>
        
        <div id="test3">
            <p>测试 3: 检查 API 请求</p>
        </div>
        
        <button onclick="runTests()">运行测试</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOMContentLoaded event fired');
            document.getElementById('test1').innerHTML = '<p class="success">✓ DOMContentLoaded 正常</p>';
        });
        
        function runTests() {
            console.log('Running tests...');
            
            // Test 2: localStorage
            try {
                localStorage.setItem('test', 'value');
                localStorage.removeItem('test');
                document.getElementById('test2').innerHTML = '<p class="success">✓ localStorage 正常</p>';
            } catch (e) {
                document.getElementById('test2').innerHTML = '<p class="error">✗ localStorage 失败: ' + e.message + '</p>';
            }
            
            // Test 3: API Request
            const apiUrl = '/api/v1/brands';
            fetch(apiUrl)
                .then(response => {
                    console.log('API response:', response);
                    if (response.ok) {
                        document.getElementById('test3').innerHTML = '<p class="success">✓ API 请求正常</p>';
                    } else {
                        document.getElementById('test3').innerHTML = '<p class="error">✗ API 返回错误: ' + response.status + '</p>';
                    }
                })
                .catch(error => {
                    console.error('API error:', error);
                    document.getElementById('test3').innerHTML = '<p class="error">✗ API 请求失败: ' + error.message + '</p>';
                });
        }
    </script>
</body>
</html>
