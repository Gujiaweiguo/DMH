# Phase 1: 海报生成 - 开发计划

## 📅 开始日期: 2026-01-28

## 🎯 目标
开发完整的H5海报生成功能，支持模板选择、预览、生成、下载和分享。

---

## 📋 任务清单

### Task 6.1: 创建 PosterGenerator.vue 页面（1h）
- [ ] 6.1.1 创建页面框架
  - 创建Vue组件文件
  - 添加基础HTML结构
  - 配置路由
- [ ] 6.1.2 实现基础UI结构
  - 添加标题栏
  - 添加返回按钮
  - 添加主内容区域

### Task 6.2: 实现海报模板选择器组件（2h）
- [ ] 6.2.1 调用模板列表API
  - 实现获取海报模板列表
  - 处理加载状态
  - 错误处理
- [ ] 6.2.2 实现模板选择UI（Grid布局）
  - 使用van-grid组件
  - 展示模板缩略图
  - 添加选中状态
- [ ] 6.2.3 实现模板预览功能
  - 点击模板显示预览
  - 实时更新预览区域

### Task 6.3: 实现海报预览组件（2h）
- [ ] 6.3.1 实现图片显示
  - 使用van-image组件
  - 支持本地图片和网络图片
- [ ] 6.3.2 实现缩放功能
  - 双指缩放（1x, 2x）
  - 滚动缩放
- [ ] 6.3.3 实现旋转功能
  - 90度旋转
  - 45度旋转

### Task 6.4: 实现生成海报 API 调用（2h）
- [ ] 6.4.1 调用 POST /api/v1/campaigns/:id/poster
  - 传递活动ID和分销商ID
  - 处理响应
- [ ] 6.4.2 添加生成中状态
  - 显示loading动画
  - 禁用生成按钮
- [ ] 6.4.3 实现错误处理和重试
  - 显示错误提示
  - 网络错误重试

### Task 6.5: 实现下载海报功能（1h）
- [ ] 6.5.1 实现下载按钮
  - 调用浏览器下载API
  - 设置文件名
- [ ] 6.5.2 实现长按保存
  - 使用long-press指令
  - 保存到相册

### Task 6.6: 实现分享海报功能（1h）
- [ ] 6.6.1 调用微信分享API
  - 微信分享
  - 朋友圈分享
- [ ] 6.6.2 实现复制链接
  - 复制图片URL
  - 显示复制成功提示

### Task 6.7: 添加加载状态和错误处理（0.5h）
- [ ] 6.7.1 添加全局loading状态
  - 页面级loading
  - 操作级loading
- [ ] 6.7.2 添加错误提示（Toast）
  - API错误提示
  - 验证错误提示

### Task 6.8: 添加路由配置（0.5h）
- [ ] 6.8.1 添加页面路由
  - 路由路径: /poster-generator
- [ ] 6.8.2 添加菜单入口
  - 添加到分销中心菜单
- [ ] 6.8.3 测试路由跳转
  - 验证路由正确性

---

## 📊 时间估算

| 任务 | 预计时间 | 累计时间 |
|------|----------|----------|
| 6.1 创建页面 | 1h | 1h |
| 6.2 模板选择器 | 2h | 3h |
| 6.3 海报预览 | 2h | 5h |
| 6.4 API调用 | 2h | 7h |
| 6.5 下载功能 | 1h | 8h |
| 6.6 分享功能 | 1h | 9h |
| 6.7 状态处理 | 0.5h | 9.5h |
| 6.8 路由配置 | 0.5h | 10h |

**总预计时间：10小时**

---

## 🧪 测试计划

### 本地测试
- [ ] 模拟器测试（Android/iOS）
- [ ] 真机测试（多种设备）
- [ ] 性能测试（生成时间<3秒）

### 功能测试
- [ ] 创建活动海报
- [ ] 选择不同模板
- [ ] 测试缩放旋转
- [ ] 测试下载保存
- [ ] 测试微信分享
- [ ] 测试复制链接

---

## 📝 开发注意事项

1. **响应式设计**
   - 移动端优先
   - 支持横竖屏
   - 适配不同屏幕尺寸

2. **性能优化**
   - 图片懒加载
   - 缩略图生成
   - 预览区域优化

3. **用户体验**
   - 流畅的动画
   - 清晰的提示信息
   - 友好的错误处理

4. **兼容性**
   - iOS Safari兼容
   - Android Chrome兼容
   - 微信浏览器兼容

---

**开始时间**: 2026-01-28
**预计完成时间**: 2026-01-30（如果每天工作8小时）
