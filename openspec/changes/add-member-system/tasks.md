# Implementation Tasks: 引入会员系统（UnionID 平台唯一）

## 1. 规范与数据模型
- [x] 1.1 完成 `member-system` 规范（需求/场景/口径）
- [x] 1.2 设计数据模型：members、member_profiles、member_tags、member_brand_links、member_merge_requests、export_requests（可拆）
- [x] 1.3 定义参与/订单/奖励与 member 的关联字段与写入时机

## 2. 后端能力
- [x] 2.1 会员查询 API（平台/品牌视角）：列表、详情、筛选、聚合指标
- [x] 2.2 人工合并 API：创建合并请求、预检查、执行合并、审计记录
- [x] 2.3 导出审批 API：导出申请、审批/驳回、生成导出、下载与审计
- [x] 2.4 参与/订单/奖励写入链路：在可获取 unionid 时创建/关联 member

## 3. 前端能力
- [x] 3.1 管理后台：全量会员列表/详情、合并操作、导出审批列表与审批
- [x] 3.2 品牌端：本品牌会员列表/详情、导出申请入口与状态跟踪

## 4. 同步适配与数据分析
- [x] 4.1 Sync Adapter：订单/奖励同步字段补充 memberId/unionid（开启时）
- [x] 4.2 分析口径对齐：跨活动漏斗、复购/复参、渠道质量、分群、生命周期的指标定义

## 5. 测试与文档
- [x] 5.1 单元/集成测试：member 唯一性、权限隔离、合并一致性、导出审批状态机
- [x] 5.2 文档：导出审批操作说明、合并注意事项、unionid 获取失败的处理说明
